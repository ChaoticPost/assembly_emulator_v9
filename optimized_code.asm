; Поиск максимума в массиве [3, 10, 20, 30]

LDI 1
STA 0x0400         ; константа 1

LDA 0x0100         ; размер массива
STA 0x0410         ; сохранить размер

LDA 0x0101         ; первый элемент как начальный максимум
STA 0x0411         ; максимум в 0x0411

LDI 2              ; индекс i = 2
STA 0x0412

LOOP:
LDA 0x0410         ; размер
ADD 0x0400         ; размер + 1
STA 0x0430
LDA 0x0412         ; индекс
CMP 0x0430         ; индекс >= размер+1?
JZ END             ; да - выход

; Таблица переходов по индексу
LDA 0x0412
CMP 0x0420         ; индекс == 2?
JZ LOAD_2
CMP 0x0421         ; индекс == 3?
JZ LOAD_3
JMP INC            ; иначе пропустить

LOAD_2:
LDA 0x0102         ; элемент [2]
JMP CHECK

LOAD_3:
LDA 0x0103         ; элемент [3]

CHECK:
STA 0x0440         ; текущий элемент
LDA 0x0411         ; максимум
CMP 0x0440         ; максимум < элемент?
JC UPDATE          ; да - обновить
JMP INC            ; нет - пропустить

UPDATE:
LDA 0x0440         ; новый максимум
STA 0x0411

INC:
LDA 0x0412         ; индекс
ADD 0x0400         ; индекс + 1
STA 0x0412
JMP LOOP

END:
LDA 0x0411         ; результат в ACC
HALT

; Константы для сравнения индексов
0x0420: 2
0x0421: 3

